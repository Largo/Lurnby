<div class=" lurnby_modal modal-lg modal-dialog" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="ViewHighlightModalLabel">View Highlight</h5>
      <button class="close" type="button" data-dismiss="modal">
        &times;
      </button>
    </div>
    <div class="modal-body">
      <div class="lurnby_data_group">
        <h6>From: {{ article_title}}</h6>
      </div>

      <div class="lurnby_data_group">
        {% if source_url %}

        <h6 class="inline-block">Source:</h6> <a class="main-button save" href="{{ inappurl }}">Go to highlight</a>

        <p>
          <a href="{{source_url}}" target="_blank">{{source_url}}</a>
        </p>
        {% else %}

        <h6 class="inline-block">Source:</h6><a class="main-button save" href="{{ inappurl }}">Go to highlight</a>

        <p>
          {{source}}
        </p>

        {% endif %}
      </div>

      <form class="main-form" id="UpdateHighlightForm" action="" method="post">
        {{ form.hidden_tag() }}

        <div class="lurnby_data_group">
          <h6>Highlight</h6>
          <div class="form-group">
            {{ form.text(class="form-control", id="view_highlight_text") }}
          </div>
        </div>

        <div class="lurnby_data_group">
          <h6>Notes</h6>
          <div class="form-group">
            {{ form.note(class="form-control", id="view_highlight_notes") }}
          </div>

        </div>
        
        
        <div class="lurnby_data_group">
          <h6 class="inline-block"> Topics:</h6> 
          <span class="inline-button" id="new-topic">
            <button type = "button" onclick="UpdateNewTopic()" class="main-button save">
              Create new topic
            </button>
          </span>
          <br>
          <span id="Members" class="topics-group">
            {% for m in member %}
            <label class="btn active topic-label upd-topic-label" id="topic{{ m.id }}">
              <input name="members" type="checkbox" checked value="{{m.title}}">
                {{m.title}}
              </label>
            {% endfor %}
            {% for n in nonmember %}
            <label class="btn topic-label upd-topic-label" id="topic{{ n.id }}">
              <input name="nonmembers" type="checkbox" checked value="{{n.title}}">
                {{n.title}}
              </label>
            {% endfor %}
          </span>
         
        </div>
    
        <div class="lurnby_data_group article_data_group">

          <h6 class="inline-block">Tags:</h6>
          <span class="inline-button" id="add_new_tag">
            <button type = "button" onclick="add_tag_start('update-highlight')" class="main-button add_new">Add New</button>
          </span><br>

          <span id="tags">
            <span id="new_tags"></span>
            {% for tag in highlight.tags %}
            <label class="tagged update-highlight"><input type="checkbox" name="tags" checked
                value="{{tag.name}}"></input>{{tag.name}}</label>
            {% endfor %}
            {% for tag in highlight.not_in_tags(current_user) %}
            <label class="untagged update-highlight"><input type="checkbox" name="untags" checked value="{{tag.name}}"></input>{{tag.name}}</label>
            {% endfor %}
          </span>
        </div>

       


      </form>
    </div>

    <div class="modal-footer">
      <button type="button" data-dismiss='modal' onclick="ArchiveHighlight({{highlight.id}})" class="main-button save cancel mr-auto">{% if member|length > 1 %}Delete from {{member|length}}
        topics{% else %}Delete{% endif %}</button>
      
      <button type="button" data-dismiss='modal' class="main-button save cancel">Cancel</button>
      <button type="button" onclick="UpdateHighlight({{highlight.id}})" class="main-button save">Update</button>
    </div>
  </div>

</div>