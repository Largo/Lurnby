<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="{{url_for('static', filename='css/dotcom/styles.css')}}" />
        <link rel="icon" href="{{url_for('static', filename='images/dotcom/lurnby-favicon.png')}}"/>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "c14cd94dfdb54809941c2bf62129a5c6"}'></script><!-- End Cloudflare Web Analytics -->
        <!-- PWA STUFF  -->
        <link rel="manifest" href="{{ url_for('static', filename='lurnby.webmanifest') }}">

        <!-- IOS PWA STUFF  -->
        {% include '_ios_splash.html' %}
        
        
        <script>
            var host = window.location.hostname;
            if(host == "www.lurnby.com")
            {
                !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.13.1";
                analytics.load("tFb9u0d3iY0LatDQKpAoULUsETG3KBUY");
                analytics.page();
                }}();
            }
          </script>
          {% block css%}{% endblock %}
    </head>
    <body>
        <nav>
            <ul>
                <li><a class="{{ 'active' if active == 'index' }}" href= "{{url_for('dotcom.index')}}">Lurnby</a></li>
                <li><a class="{{ 'active' if active == 'who' }}" href= "{{url_for('dotcom.who')}}">Who is it for?</a></li>
                <li><a class="{{ 'active' if active == 'works'}}" href= "{{url_for('dotcom.how')}}">How does it work?</a></li>
                <li><a class="{{ 'active' if active == 'costs'}}" href= "{{url_for('dotcom.costs')}}">How much does it cost?</a></li>
                <li><a class="{{ 'active' if active == 'start'}}" href= "{{url_for('dotcom.use')}}">How can I start using it?</a></li>
                <li><a class="{{ 'active' if active == 'more'}}" href= "{{url_for('dotcom.questions')}}">I have questions.</a></li>
                <li><a class="{{ 'active' if active == 'tutorials'}}" href= "{{url_for('dotcom.tutorials')}}">Videos, tutorials, and demos</a></li>
            </ul>
        </nav>
        

        {% block content %}
        {% endblock %}

        {% block js %}
       <script>
            const CACHE_NAME = 'static-cache-v1.2';
 
            const FILES_TO_CACHE = [
            '{{url_for("static", filename="offline.html")}}',
            ];
            
            /* Progressive Web App Register Service Worker */
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker
                // .register('{{url_for("static",filename="service-worker.js")}}')
                .register('/service-worker.js')
                .then(function(registration) {
                    console.log('Service Worker Registered!');
                    return registration;
                })
                .catch(function(err) {
                    console.error('Unable to register service worker.', err);
                });
            }

       </script> 
         
        
        {% endblock %}
    </body>
</html>